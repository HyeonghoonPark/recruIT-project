<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.recruit.mapper.CompanyMapper">

  <select id="companyinfoRead" resultType="com.recruit.domain.CInfoVO">
  select
   id, cname, img, homepage, intro, ceo, ctype, form, establish, numemp, sales, tel, fax, sns, location 
  from
   tblcinfo
    where id = #{id}
  </select>
  
 <update id="companyinfoUpdate">
 update project.tblcinfo set cname =#{cname}, homepage=#{homepage}, intro=#{intro}, ceo=#{ceo}, ctype=#{ctype}
 , form=#{form}, establish=#{establish}, numemp=#{numemp}, sales=#{sales}, tel=#{tel}, fax=#{fax}, sns=#{sns}
 , location=#{location}
 where id = #{id}
 </update>
 
 <update id="write">
  update tblcinfo set cname =#{cname}, homepage=#{homepage}, intro=#{intro}, ceo=#{ceo}, ctype=#{ctype}
 , form=#{form}, establish=#{establish}, numemp=#{numemp}, sales=#{sales}, tel=#{tel}, fax=#{fax}, sns=#{sns}
 , location=#{location}
 where id = #{id}
 </update>
 
 <select id="list" resultType="JobGroupVO">
		select
		id, jobgroup, id2
		from
		tbljobgroup
		where id2 =
		#{id2}
		
	</select>
  
   <select id="jobgroupList" resultType="com.recruit.domain.JobGroupVO">
 <![CDATA[
 select 
   id, id2, jobgroup
 from 
   tbljobgroup 
 where id2 = 0
 ]]>  
 </select>
 
 <select id="codeList" resultType="com.recruit.domain.CodeVO">
  <![CDATA[
 select 
   id, career, tid
 from 
   tblcode
 ]]>  

 </select>
  
   <select id="regionList" resultType="com.recruit.domain.RegionVO">
  <![CDATA[
 select 
  DISTINCT rgbid, rgbname
 from 
   tblRegion
 ]]>  

 </select>

  
  
  
   <select id="subRegion" resultType="com.recruit.domain.RegionVO">
  <![CDATA[
 select 
   rgbid, rgbname, rgsid, rgsname
 from 
   tblregion
   
   where rgbid = #{id2}
 ]]>  

 </select>
 
  <insert id="recruitWrite">
  insert into tblrecruit (title, cid, jobgroupid, jobgroupid2, rgbid, rgsid, jobdesc, recruitnum, employstatusid, salaryid, edu, exp, adddesc, period, acceptmethod)
  values (#{title}, #{cid}, #{jobgroupid}, #{jobgroupid2}, #{rgbid}, #{rgsid}, #{jobdesc}, #{recruitnum}, #{employstatusid}, #{salaryid}, #{edu}, #{exp}, #{adddesc}, #{period}, #{acceptmethod})
 
  

 </insert>
 
 <select id="recruitList" resultType="com.recruit.domain.RecruitVO">
 <![CDATA[
 select bno, title, period, viewcnt
  from
   tblRecruit
   where cid = #{id}
 ]]>  
 </select>
 
 <select id="recruitinfoRead" resultType="com.recruit.domain.RecruitVO">
<![CDATA[
	select distinct r.bno, r.title, j.jobgroup as jobgroupid, u.jobgroup as jobgroupid2, g.rgbname as rgbid, g.rgsname as rgsid, r.jobdesc, r.recruitnum, c.career as employstatusid, o.career as salaryid, d.career as edu, e.career as exp, r.adddesc, r.period, r.acceptmethod
		from project.tblrecruit r, project.tbljobgroup j, project.tbljobgroup u, project.tblregion g, project.tblcode c, project.tblcode o, project.tblcode d, project.tblcode e
	where r.bno = #{recruitNum}
    	and r.jobgroupid = j.id
    	and r.jobgroupid2 = u.id
    	and g.rgbid = r.rgbid
    	and g.rgsid = r.rgsid
    	and r.employstatusid = c.id
    	and r.salaryid = o.id
    	and r.edu = d.id
    	and r.exp = e.id;
 ]]>
 </select>
 
  <select id="recruitListt" resultType="com.recruit.domain.RecruitVO">
 <![CDATA[
 select bno, title, period, viewcnt
  from
   tblRecruit
   where cid = #{id}
 ]]>  
 </select>
  

  
</mapper>  



















